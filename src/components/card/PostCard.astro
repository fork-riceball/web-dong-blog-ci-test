---
import Card from '@/components/card/Card.astro';
import Category from '@/components/taxonomy/category.astro';
import Tags from '@/components/taxonomy/tags.astro';

export interface Props {
  post: {
    featureIcon?:
      | {
          width: number;
          height: number;
          alt: string;
          url: string;
        }
      | undefined;
    slug: string;
    titleTC: string;
    excerpt: string;
    publishDate: string;
    themeColor: string;
    tags: string[];
    category: string;
  };
}

const { featureIcon, titleTC, excerpt, publishDate, themeColor, tags, category, slug } = Astro.props.post;
---

<li class="flex-1 list-none self-stretch">
  <Card themeColor={themeColor}>
    <article class="flex h-full flex-col justify-between gap-8 pt-8">
      <!-- Featured-Icon -->
      {
        featureIcon ? (
          <div
            style={`background-color: ${themeColor}`}
            class="saturate-25 absolute top-0 left-0 ml-4 -translate-y-1/2 transform-gpu overflow-hidden rounded-lg brightness-90 filter"
          >
            <img
              src={`${import.meta.env.BASE_URL}${featureIcon.url}`}
              width={featureIcon.width}
              height={featureIcon.height}
              alt={featureIcon.alt}
            />
          </div>
        ) : (
          ''
        )
      }
      <div>
        <a href={`${import.meta.env.BASE_URL}post/${slug}`}>
          <h3 class="mb-4 text-2xl">{titleTC}</h3>
        </a>
        <!-- Paragraph -->
        <p>{excerpt}</p>
      </div>
      <!-- Footer -->
      <div class="flex flex-wrap items-center justify-between">
        <!-- Time -->
        <time class="inline-block text-sm opacity-60 hover:opacity-100">
          {publishDate}
        </time>
        <div class="flex flex-wrap">
          <!-- Category -->
          <Category category={category} />
          <!-- Tags -->
          <Tags tags={tags} />
        </div>
      </div>
    </article>
  </Card>
</li>
