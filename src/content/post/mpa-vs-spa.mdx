---
isDraft: false
featureIcon: { url: 'images/posts/feature-icon/page-loading.svg', alt: '網頁加載中符號' }
title: 'MPA vs SPA'
titleTC: '多頁應用與單頁應用的取捨'
excerpt: '建構網站有許多種方式，藉由了解它們之間的取捨可以幫助你建構下一個網頁專案。'
category: '教學'
tags: ['架構模式']
publishDate: '2023-05-12'
---

多頁應用(Multiple-page Application) 與單頁應用(Single-page Application) 是建構網頁的模式，它們有各自的好壞之處，讓我們來看看它們之間的差異與你應該如何去做取捨。

## 什麼是多頁應用(MPA)

「多頁應用網站」是由多個 HTML 頁面文件所組成的網站，當用戶導航到新的頁面，瀏覽器就會發送請求要求伺服器再傳送全新的頁面給用戶。如果你的網站著重於內容呈現而非即時的互動性，那麼多頁應用是你的好選擇。

### 優點

* **架構簡單**：製作多頁應用網站只需要使用靜態 HTML 文件，相較於單頁應用（SPA），開發更為簡單。
* **SEO 友善**：每個網站頁面都是獨立的 HTML 文件，具有獨特的網址，且無需額外動態生成頁面內容。使得搜尋引擎更容易理解和收錄網站內容。
* **首次加載快速**：由於用戶僅需顯示伺服器回傳的 HTML 文件，不需要依賴本地瀏覽器執行 JavaScript 來生成頁面，因此多頁應用相較於單頁應用能提供更佳的首次加載體驗。
* **普遍安全**：每個頁面都是獨立的文件，這使得漏洞測試和安全性評估更為容易。並且由於靜態內容是預先生成的且不可更改的，攻擊者無法在內容中插入惡意腳本或程式碼（如跨站腳本攻擊）。
* **良好的兼容性**：經典的架構網站模式，不必擔心舊系統的兼容性問題。

### 缺點
* **換頁需要刷新頁面**：由於網頁的各種更動需要靠刷新並重新整個網頁來達成，相較於單頁應用頁面通常無法像真實的應用程式一樣頁面切換上有「滑順切換內容」的感受。
* **被迫加載重複的內容**：如果要更新資料，就需要整篇頁面一起更換，因此頁面之間不可避免的會出現重複的片段被重複加載。

## 什麼是單頁應用(SPA)

「單頁應用網站」通常是由 JavaScript 來動態主導網頁，當用戶導航到新的頁面並不像 MPA 一樣重新渲染整份新的網頁，而是使用 <abbr title="Asynchronous JavaScript and XML">AJAX</abbr>與伺服器溝通並更新內容。

如果網站有大量的動態內容或接近應用程式的體驗，那麼單頁應用會是你的好選擇。

### 優點

* **避免加載重複的內容**：網頁內容都可以透過動態的請求來索取與更新，不需要透過重複加載來更新頁面上的資料，也就避免每次索取資料時只能拿整個頁面來更新，索取關鍵資料更新即可。
* **類似開發應用程式**：由於內容都交由程式語言動態的加載生成，因此有極大的自由度去控制網頁呈現的方式。

### 缺點
* **門檻稍高**：需要透過程式語言來管理頁面的導覽，也連帶會需要了解相關的框架或路由工具(像是 React、Vue、Angular)，技術上來說會稍難入手。
* **SEO 不友善**：僅有單一個網址，且由於所有內容是動態生成的，就算搜尋引擎能解讀也不保證可以正確的完全收錄到你的網站中的內容，造就極差的 SEO。
* **更久的首次加載**：由於內容主要依靠動態生成，勢必會比預先就生成好的網頁文件還要慢。

## MPA 與 SPA 該選哪一個來架構網站？

看網站主要內容的種類，如果大多數網頁內容是動態、不看重 SEO 或希望有應用程式般的體驗可以考慮 SPA ，如果沒有頭緒的話，建議用架構更傳統常見且單純的 MPA 架構是不會出錯的選擇。

## 參考資料

* [跟著小明一起搞懂技術名詞：MVC、SPA 與 SSR](https://medium.com/@hulitw/introduction-mvc-spa-and-ssr-545c941669e9)
