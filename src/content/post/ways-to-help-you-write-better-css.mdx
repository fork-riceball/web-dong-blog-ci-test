---
isDraft: false
featureIcon: { url: 'images/posts/feature-icon/thumb-up.svg', alt: '讚賞符號' }
title: 'Ways to help you write better CSS'
titleTC: '助教統整 n 個方法幫助你寫出更好的 CSS'
excerpt: '總結作為六角學院助教一直以來審核作業上最容易碰上的問題，以及可以怎麼應對。了解整篇文章將可以迴避掉很多同學最常踩的坑！'
category: '教學'
tags: [CSS, 代碼品質]
publishDate: '2023-03-19'
---

<Info type="warning">
  撰寫程式並沒有絕對的準則，留意文章可權衡的地方自行判斷即可。本篇文章記錄我撰寫程式以來的經驗與原則以及當六角學院助教審核同學時**最常發現的問題**。
</Info>

## 問題一：不關心權重比例與效能

過度深層的選取會使得 CSS 的權重比例變得很高，導致後續的維護上會變得很麻煩，你可能會需要覆蓋掉某些樣式，但是因為權重比例太高，就開始用 `!important` 來覆蓋掉原本的樣式。

如果一個 `class` 選擇器就可以選擇到你想要的元素，那何必要寫這麼多層增加閱讀難度與權重比例呢？在某些情況，過度的選取還會影響到效能，因為瀏覽器會需要花費更多的時間去解析該選取器。

```css
/* ❌ Nope */
.navbar .nav-item .nav-link {
}

/* ✅ Yes */
.nav-link {
}
```

明確的選取元素會讓人感覺比較安心，較不會發生命名上的衝突，但在實際開發中，讀一長串且具體的選取器，不會比想一個良好的 `class` 名稱來得更快，如果對於命名上的衝突有擔憂，推薦可以參考 [BEM 命名法](/post/write-cleaner-css-with-bem)。總結把握以下原則最好：

1. 盡可能壓低選取器的權重比例。
2. `!important` 僅在測試除錯時使用，用於正式環境是絕對不能被接受的。

## 問題二：追求太多花俏的選取方式

並不是要說酷炫的選取器沒有學習的必要，而是在絕大多數時候一個簡單的 `class` 選取器可以滿足當下的需求，是最直白且最好維護的選擇。玩弄花俏的選取方式的同時，記得**達成目的的方式是越簡單且愚蠢是最好的**： [KISS 原則](https://en.wikipedia.org/wiki/KISS_principle)。

## 問題三：撰寫方式不統一

越來越多人擁抱撰寫 Utility 形式的 CSS 的習慣，但卻沒有統一的撰寫方式，我自己習慣是如果要選擇這樣的撰寫模式，那就挑選相關的樣式庫用到底，像是：[Tailwind](https://tailwindcss.com/) 。如果隨心所欲的混用 Utility 樣式沒有規劃，有很大機率會讓 CSS 變得很難維護。

```css
/* ❌ Nope */
.p-1 {
  padding: 1rem;
}

.panel {
  border: 1px solid black;
  background-color: white;
}

/* ✅ Yes, Component */
.panel {
  padding: 1rem;
  border: 1px solid black;
  background-color: white;
}

/* ✅ Yes, Utility */
.p-1 {
  padding: 1rem;
}

.border {
  border: 1px solid black;
}

.bg-white {
  background-color: white;
}
```

## 問題四：重複造輪子

現今 [CSS 變數](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_custom_properties) 已經在各大瀏覽器中得到廣泛的支援，抽離出一些常用的樣式變數，並且在需要的時候引用，可以讓 CSS 的維護變得更加容易。此外也可以積極的嘗試現成的樣式庫，省時又一致。

## 問題五：使用不恰當的單位

網頁設計常用的大小單位不外乎就是：`px`、`rem`、`em`、`%`、`vw`、`vh` 但要正確地使用這些單位需要一定的經驗以及和設計師充足的溝通。簡單來說：

- `px`：固定的像素大小，不會隨著瀏覽器的縮放而改變。(精確用途)
- `rem`：相對於根元素的字體大小，隨著瀏覽器的縮放而改變。(大多通用)
- `em`：相對於父元素的字體大小，隨著瀏覽器的縮放而改變。(很少有用 😅)
- `%`：相對於父元素的寬度，不會隨著瀏覽器的縮放而改變。(布局常用)
- `vw`：相對於視窗的寬度，隨著瀏覽器的縮放而改變。(布局常用)
- `vh`：相對於視窗的高度，隨著瀏覽器的縮放而改變。(很少有用 😅)

在大多時候 `rem` 都會是尺寸的好選擇，因為相比於 `px` ，它是尊重用戶對瀏覽器尺寸的設定的。但在要求精準細小的尺寸時，`px` 仍是很好的選擇。

## 問題六：使用老方法編排版面

如果沒有要維護老網站的需求，那麼就不要再用舊時代的方法來編排網站了吧！ 所謂的老方法像是：[`table`](https://developer.mozilla.org/zh-TW/docs/Web/HTML/Element/table)、[`float`](https://developer.mozilla.org/zh-CN/docs/Web/CSS/float)、手動計算 `%` 數…… 改成擁抱 [Flexbox](https://developer.mozilla.org/zh-TW/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox) 與 [Grid](https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Grids)，讓你的網站變得更加靈活，更方便維護調整。
